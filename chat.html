{% extends "base.html" %}
{% block content %}
<h2>Chat with @{{ username }}</h2>

<div class="chat-box" style="max-height: 400px; overflow-y: auto; padding: 10px; border: 1px solid #ccc; background: #f9f9f9;">
    {% for msg in messages %}
        <div class="message" style="margin-bottom: 10px;">
            {% if msg[0] == session['user_id'] %}
                <p><strong>You:</strong> {{ msg[1] }} <small>({{ msg[2] if msg[2] else '' }})</small></p>
            {% else %}
                <p><strong>{{ username }}:</strong> {{ msg[1] }} <small>({{ msg[2] if msg[2] else '' }})</small></p>
            {% endif %}
        </div>
    {% endfor %}
</div>

<form method="POST">
    <textarea name="message" placeholder="Type your message..." required></textarea><br>
    <button type="submit">Send</button>
</form>
{% endblock %}
